---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 01-intro-to-dataviz.md in _episodes_rmd/
title: "Introduction to datavisualisation"
teaching: 50
exercises: 30
questions:
- "What data types are available in R?"
- "What is an object?"
- "How can values be initially assigned to variables of different data types?"
- "What arithmetic and logical operators can be used?"
- "How can subsets be extracted from vectors?"
- "How does R treat missing values?"
- "How can we deal with missing values in R?"
objectives: 
- "Define the following terms as they relate to R: object, assign, call, function, arguments, options."
- "Assign values to objects in R."
- "Learn how to name objects."
- "Use comments to inform script."
- "Solve simple arithmetic operations in R."
- "Call functions and use arguments to change their default options."
- "Inspect the content of vectors and manipulate their content."
- "Subset and extract values from vectors."
- "Analyze vectors with missing data."
keypoints:
- "Access individual values by location using `[]`."
- "Access arbitrary sets of data using `[c(...)]`."
- "Use logical operations and logical vectors to access subsets of data."
source: Rmd
---



Først og fremmest - hvem er din målgruppe, hvad er det du vil vise? Hvad er 
formålet med visualilseringen?


Herunder er der stadig en del kode og andet skrammel, der ikke er fjernet endnu.

## Why are we visualising data? ##

We visualise data for several purposes. They can be broken down to smaller 
purposes, but the main categories are:

Communicating information

Discovering patterns

In communication of information, we have a result, some information or 
relationships between data that we want to present to an audience. The goal is
to tell our audience about something.

An earlier stage of the process is when we use visualisation of data, to discover 
what is happening in our data. We visualise data to draw on the pattern 
recognition our brain is equipped with.

A classical example of the value of visualising data is the 
[https://en.wikipedia.org/wiki/1854_Broad_Street_cholera_outbreak](work done by John Snow)
during an outbreak of cholera in London in 1854. Carefull collection of data on
where people afflicted by cholera were living resulted in this map:

Stacked rectangles places shows the clusters of cholera cases. Quite close to 
the largest rectangles we find a water pump, at the intersection of Broad Street
and Cambridge Street. That pump was the source of the outbreak, that killed 616 
people. It was located less than 1 meter from a cesspit that was leaking.

Visualising the number of cases made it relatively easy to identify the source 
and close it down.


![RStudio_startup](../fig/1024px-Snow-cholera-map-1.jpg)




Vise andre sammenhænge og mønstre, så de kan forstå data. Der er både et 
eksplorativt element, hvor vi bruger visualiseringer til at opdage mønstre
og et kommunikativt element hvor vi bruger visualiseringer til at vise mønstre.
https://www.visualcapitalist.com/data-visualization-cholera/

Et eksempel:
https://twitter.com/AndrewDessler/status/1429099366250434562?s=03



> ## Objects vs. variables
>
> What are known as `objects` in `R` are known as `variables` in many other
> programming languages. Depending on the context, `object` and `variable` can
> have drastically different meanings. However, in this lesson, the two words
> are used synonymously. For more information see:
> [https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects](https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects)
{: .callout}



> ## Exercise
> 
> What do you think is the current content of the object `area_acres`? 123.5 or
> 6.175?
>
> > ## Solution
> >
> > The value of `area_acres` is still 6.175 because you have not
> > re-run the line `area_acres <- 2.47 * area_hectares` since
> > changing the value of `area_hectares`.
> {: .solution}
{: .challenge}


> ## Exercise
>
> Create two variables `r_length` and `r_width` and assign them values. It should be noted that, 
> because `length` is a built-in R function, R Studio might add "()" after you type `length` and 
> if you leave the parentheses you will get unexpected results. 
> This is why you might see other programmers abbreviate common words.
> Create a third variable `r_area` and give it a value based on the current values of `r_length` 
> and `r_width`.
> Show that changing the values of either `r_length` and `r_width` does not affect the value of 
> `r_area`.
> 
> > ## Solution
> > 
> > 
> > ~~~
> > r_length <- 2.5
> > r_width <- 3.2
> > r_area <- r_length * r_width
> > r_area
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > [1] 8
> > ~~~
> > {: .output}
> > 
> > 
> > 
> > ~~~
> > # change the values of r_length and r_width
> > r_length <- 7.0
> > r_width <- 6.5
> > # the value of r_area isn't changed
> > r_area
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > [1] 8
> > ~~~
> > {: .output}
> > 
> {: .solution}
{: .challenge}



> ## Exercise
>
> Type in `?round` at the console and then look at the output in the Help pane.
> What other functions exist that are similar to `round`?
> How do you use the `digits` parameter in the round function?
{: .challenge}





> ## Exercise
>
>
> We’ve seen that atomic vectors can be of type character, numeric (or double),
>   integer, and logical. But what happens if we try to mix these types in a
>   single vector?
>
> > ## Solution
> >
> > R implicitly converts them to all be the same type.
> {: .solution}
>
> What will happen in each of these examples? (hint: use `class()`
> to check the data type of your objects):
>
>  
>  ~~~
>  num_char <- c(1, 2, 3, "a")
>  num_logical <- c(1, 2, 3, TRUE)
>  char_logical <- c("a", "b", "c", TRUE)
>  tricky <- c(1, 2, 3, "4")
>  ~~~
>  {: .language-r}
>
>
> Why do you think it happens?
>
> > ## Solution
> >
> >  Vectors can be of only one data type. R tries to
> > convert (coerce) the content of this vector to find a "common
> > denominator" that doesn't lose any information.
> {: .solution}
>
>
> How many values in `combined_logical` are `"TRUE"` (as a character) in the
> following example:
>
> 
> ~~~
> num_logical <- c(1, 2, 3, TRUE)
> char_logical <- c("a", "b", "c", TRUE)
> combined_logical <- c(num_logical, char_logical)
> ~~~
> {: .language-r}
> &nbsp;
>
> > ## Solution
> >
> > Only one. There is no memory of past data types, and the coercion
> > happens the
> > first time the vector is evaluated. Therefore, the `TRUE` in
> > `num_logical`
> > gets converted into a `1` before it gets converted into `"1"` in
> > `combined_logical`.
> {: .solution}
>
> You've probably noticed that objects of different types get
>   converted into a single, shared type within a vector. In R, we
>   call converting objects from one class into another class
>   _coercion_. These conversions happen according to a hierarchy,
>   whereby some types get preferentially coerced into other
>   types. Can you draw a diagram that represents the hierarchy of how
>   these data types are coerced?
>
{: .challenge}





> ## Exercise
>
> 1. Using this vector of rooms, create a new vector with the NAs removed.
>
>     ```r
>     rooms <- c(1, 2, 1, 1, NA, 3, 1, 3, 2, 1, 1, 8, 3, 1, NA, 1)
>     ```
> 2. Use the function `median()` to calculate the median of the `rooms` vector.
>
> 3. Use R to figure out how many households in the set use more than 2 rooms for sleeping.
>
> > ## Solution
> > 
> > ~~~
> > rooms <- c(1, 2, 1, 1, NA, 3, 1, 3, 2, 1, 1, 8, 3, 1, NA, 1)
> > rooms_no_na <- rooms[!is.na(rooms)]
> > # or
> > rooms_no_na <- na.omit(rooms)
> > # 2.
> > median(rooms, na.rm = TRUE)
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > [1] 1
> > ~~~
> > {: .output}
> > 
> > 
> > 
> > ~~~
> > # 3.
> > rooms_above_2 <- rooms_no_na[rooms_no_na > 2]
> > length(rooms_above_2)
> > ~~~
> > {: .language-r}
> > 
> > 
> > 
> > ~~~
> > [1] 4
> > ~~~
> > {: .output}
> {: .solution}
{: .challenge}


## noter og andet godt ##

Plottyper:

•	Strukturtegning
•	Kort
•	Diagram
•	Barplot
•	Scatterplot
o	Bobleplot
•	Linieplot
•	Boxplot
•	Violinplot
•	Heatmap
•	Dendrogramm

”Farlige” plots:
•	Lagkage
•	Wordcloud
•	Polygonpakning

Dernæst:
Hvad: 
Datatyper, antal, forhold, geografi, størrelser.
Men også - hvad katten vil du egentlig vise?
Og så vores skelnen mellem information og kunst.

Hvordan:
Position
Længder
Arealer
Vinkler
Retning/flow
Farver 
Geometriske former

Diagramtyper:
Do (til hvad)
Don't (hvorfor)

Afsluttende:
Eksempler på gode og dårlige visualiseringer.
Videre

Eksempler på gode og dårlige illustraioner:
Og hvorfor vi gør det!
Napoleons ruslandstogt (http://www.openculture.com/2019/07/napoleons-disastrous-invasion-of-russia-explained-in-an-1869-data-visualization.html)
Florence Nightingale: https://medium.com/nightingale/from-the-battlefield-to-basketball-a-data-visualization-journey-with-florence-nightingale-c39571686dfc
https://www.visualcapitalist.com/data-visualization-cholera/



{% include links.md %}
